<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sono+ JP</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/product-details.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.3/simple-lightbox.css" integrity="sha512-5gTxhbmgsOKfPP2+TeKslkMmyxF0Cmyr2YrJrfaXD/ChLHavFXGzDDG9ZiOca1P/2/5nXuujkB2BWymVKu1pPg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script defer src="/scripts/script.js"></script>
    <script defer src="/scripts/product-details.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.3/simple-lightbox.min.js" integrity="sha512-Vtot07oogPy4e0JzAfUgyvia0fATgR1PWWNG89EeQgPXmaIhjGQIFijUVxRn0TScCMCH57Y7eJSixmYYDJkJ1A==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>
<body>
    <header>
        {% include 'menu.html.twig'%}
    </header>

    <main class="product-details">
        <div class="container">
            <div class="product-grid">
                <div class="product-images">
                    <div class="carousel-container">
                    {% for image in product.imageList %}
                        <div class="carousel-slide">
                            <a href="{{ image }}" data-lightbox="product-gallery">
                                <img src="{{ image }}" alt="{{ product.name }}">
                            </a>
                        </div>
                    {% endfor %}
                        <button class="prev-btn" onclick="plusSlides(-1)">&#10094;</button>
                        <button class="next-btn" onclick="plusSlides(1)">&#10095;</button>
                    </div>
                </div>
                <div class="product-info">
                    <h1>{{ product.name }}</h1>
                    <p class="description">{{ product.description }}</p>
                    <button class="whatsapp-button">
                        <img src="/images/whatsapp.png" alt="Ícone do WhatsApp"> Converse no WhatsApp
                    </button>
                </div>
            </div>

            <div class="recommended-products">
                <h2>Produtos Recomendados</h2>
                <div class="recommended-list">
                    {% for product in showMore %}
                    <div class="recommended-item">
                        <img src="{{ product.imageList[0] }}" alt="{{ product.name }}">
                        <p>{{ product.name }}</p>
                        <a href="#">Ver Detalhes</a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Nosso Endereço</h3>
                    <p>Rua Exemplo, 123 - Centro</p>
                    <p>São Paulo, SP - Brasil</p>
                    <p>CEP: 01000-000</p>
                </div>

                <div class="footer-section">
                    <h3>Nos siga</h3>
                    <div class="social-icons">
                        <a href="#"><span class="material-icons">facebook</span></a>
                        <a href="#"><span class="material-icons">photo_camera</span></a>
                        <a href="#"><span class="material-icons">smart_display</span></a>
                    </div>
                </div>
            </div>

            <p class="copyright"><a href="/dash">Portal Interno</a></p>
            <p class="copyright">&copy; 2024 Dawn - Todos os direitos reservados.</p>
        </div>
    </footer>
    <script>
        // Adicionar funcionalidade ao botão WhatsApp (substitua o link pelo seu número)
        const saudacao = "Olá! Gostaria de mais informações sobre o produto: ";
        const mensagem = encodeURIComponent(saudacao + "{{product.name}}");
        const whatsappButton = document.querySelector('.whatsapp-button');
        if (whatsappButton) {
            whatsappButton.addEventListener('click', () => {
                window.open(`https://wa.me/5583986801505?text=${mensagem}`, '_blank');
            });
        }
    </script>
</body>
</html>